(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{6489:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},i=e.split(";"),n=(t||{}).decode||o,s=0;s<i.length;s++){var a=i[s],l=a.indexOf("=");if(!(l<0)){var c=a.substring(0,l).trim();if(void 0==r[c]){var d=a.substring(l+1,a.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,n)}}}return r},t.serialize=function(e,t,o){var n=o||{},s=n.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var l=e+"="+a;if(null!=n.maxAge){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(n.domain){if(!i.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var o=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},7041:function(e,t,o){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(o[r[i]]=e[r[i]]);return o};Object.defineProperty(t,"__esModule",{value:!0}),t.checkCookies=t.hasCookie=t.removeCookies=t.deleteCookie=t.setCookies=t.setCookie=t.getCookie=t.getCookies=void 0;var n=o(6489),s=function(){return"undefined"!=typeof window},a=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(e&&(t=e.req),!s())return t&&t.cookies?t.cookies:t&&t.headers&&t.headers.cookie?(0,n.parse)(t.headers.cookie):{};for(var t,o={},r=document.cookie?document.cookie.split("; "):[],i=0,a=r.length;i<a;i++){var l=r[i].split("="),c=l.slice(1).join("=");o[l[0]]=c}return o},t.getCookie=function(e,o){var r,i=(0,t.getCookies)(o)[e];if(void 0!==i)return"true"===(r=i?i.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):i)||"false"!==r&&("undefined"!==r?"null"===r?null:r:void 0)},t.setCookie=function(e,t,o){if(o){var l,c,d,u=o.req,f=o.res,p=i(o,["req","res"]);c=u,d=f,l=p}var h=(0,n.serialize)(e,a(t),r({path:"/"},l));if(s())document.cookie=h;else if(d&&c){var m=d.getHeader("Set-Cookie");if(Array.isArray(m)||(m=m?[String(m)]:[]),d.setHeader("Set-Cookie",m.concat(h)),c&&c.cookies){var v=c.cookies;""===t?delete v[e]:v[e]=a(t)}if(c&&c.headers&&c.headers.cookie){var v=(0,n.parse)(c.headers.cookie);""===t?delete v[e]:v[e]=a(t),c.headers.cookie=Object.entries(v).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.setCookies=function(e,o,r){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,t.setCookie)(e,o,r)},t.deleteCookie=function(e,o){return(0,t.setCookie)(e,"",r(r({},o),{maxAge:-1}))},t.removeCookies=function(e,o){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,t.deleteCookie)(e,o)},t.hasCookie=function(e,o){return!!e&&(0,t.getCookies)(o).hasOwnProperty(e)},t.checkCookies=function(e,o){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,t.hasCookie)(e,o)}},1736:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return o(8853)}])},8057:function(e,t,o){"use strict";var r=o(5893);let i=e=>{let{label:t,name:o,formik:i,type:n="text"}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("label",{htmlFor:o,className:"text-teal-900",children:t}),(0,r.jsx)("input",{type:n,name:o,id:o,className:"formInput ".concat(i.touched[o]&&i.errors[o]&&"border-red-400 shadow-red-500"),onChange:i.handleChange,onBlur:i.handleBlur,value:i.values[o]}),i.touched[o]&&i.errors[o]&&(0,r.jsx)("span",{className:"text-red-400",children:i.errors[o]})]})};t.Z=i},8853:function(e,t,o){"use strict";o.r(t),o.d(t,{__N_SSP:function(){return p},default:function(){return h}});var r=o(5893),i=o(6154),n=o(2175),s=o(7294),a=o(6310),l=o(1163),c=o(7041),d=o(8057),u=o(1664),f=o.n(u),p=!0;function h(){let{push:e}=(0,l.useRouter)(),[t,o]=(0,s.useState)([]),[u,p]=(0,s.useState)(""),h=(0,n.TA)({initialValues:{mobile:"",password:""},validateOnMount:!0,onSubmit:function(t){p([]),p(""),i.Z.post("/api/users/login",t).then(t=>{(0,c.setCookie)("todoToken",t.data.data.token),e("/todos")}).catch(e=>{var t,r,i,n,s;console.log(e),o((null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:null===(i=r.error)||void 0===i?void 0:i.returnedErrors)||[]),p((null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message)||[])})},validationSchema:a.Ry({mobile:a.Z_().required("please enter the mobile").matches(/09[0-9]{9}/ig,"mobile is wrong"),password:a.Z_().required("please enter the password").matches(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,"Minimum eight characters, at least one letter and one number")})});return(0,r.jsxs)("div",{className:"container mx-auto max-w-md",children:[(0,r.jsx)(f(),{href:"/users/register",legacyBehavior:!0,children:(0,r.jsx)("a",{className:"text-teal-500 hover:text-teal-800",children:"register ?"})}),(0,r.jsx)("h1",{className:"text-3xl mb-3 text-center text-teal-800 mt-10",children:"Login"}),(0,r.jsxs)("form",{onSubmit:h.handleSubmit,className:"flex flex-col gap-6",children:[(0,r.jsx)(d.Z,{label:"mobile",name:"mobile",formik:h}),(0,r.jsx)(d.Z,{label:"password",name:"password",formik:h}),(0,r.jsxs)("div",{className:"flex flex-col justify-start items-center text-red-400",children:[(0,r.jsx)("p",{children:u}),(0,r.jsx)("p",{children:t})]}),(0,r.jsx)("input",{type:"submit",value:"login",className:"bg-teal-500 rounded p-3 w-full mt-10 text-white ".concat(h.isValid?"cursor-pointer":"cursor-not-allowed"),disabled:!h.isValid})]})]})}},1163:function(e,t,o){e.exports=o(6885)}},function(e){e.O(0,[470,743,774,888,179],function(){return e(e.s=1736)}),_N_E=e.O()}]);